---
## Front matter
title: "Отчёт по лабораторной работе №7"
subtitle: "Командная оболочка Midnight Commander"
author: "Дарья Сергеевна Кочина"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Целью данной лабораторной работы является освоение основных возможностей командной оболочки Midnight Commander. А также приобретение навыков практической работы по просмотру каталогов и файлов, манипуляций
с ними.

# Задание

Освоить основные возможности командной оболочки Midnight Commander. А также приобрести навыки практической работы по просмотру каталогов и файлов, манипуляций
с ними.

# Теоретическое введение

*Командная оболочка* — интерфейс взаимодействия пользователя с операционной системой и программным обеспечением посредством команд.

*Midnight Commander (или mc)* — псевдографическая командная оболочка для UNIX/Linux систем. Для запуска mc необходимо в командной строке набрать mc и нажать Enter. Рабочее пространство mc имеет две панели, отображающие по умолчанию списки файлов двух каталогов.

*Редактор mc*

Встроенный в mc редактор вызывается с помощью функциональной клавиши F4. В нём удобно использовать различные комбинации клавиш при редактировании содержимого (как правило текстового) файла.

# Выполнение лабораторной работы

1. Изучила информацию о mc, вызвав в командной строке «man mc». (рис. [-@fig:001], [-@fig:002])

![Информация о mc](image/Рис.1.png){ #fig:001 width=70% }

![Работа с терминалом](image/Рис.2.png){ #fig:002 width=70% }

2. Запустила из командной строки mc, изучила его структуру и меню. (рис. [-@fig:003], [-@fig:004], [-@fig:005], [-@fig:006], [-@fig:007], [-@fig:008], [-@fig:009], [-@fig:010], [-@fig:011])

![Вызов команды mc](image/Рис.3.png){ #fig:003 width=70% }

![Команда mc](image/Рис.4.png){ #fig:004 width=70% }

![Левая панель в mc](image/Рис.5.png){ #fig:005 width=70% }

![Файл в mc](image/Рис.6.png){ #fig:006 width=70% }

![Команда в mc](image/Рис.7.png){ #fig:007 width=70% }

![Настройки в mc](image/Рис.8.png){ #fig:008 width=70% }

![Правая панель в mc](image/Рис.9.png){ #fig:009 width=70% }

![Меню пользователя в mc](image/Рис.10.png){ #fig:010 width=70% }

![Помощь в mc](image/Рис.11.png){ #fig:011 width=70% }

3. Выполнила несколько операций в mc, используя управляющие клавиши (операции с панелями; выделение/отмена выделения файлов, копирование/перемещение файлов, получение информации о размере и правах доступа на файлы и/или каталоги и т.п.) (рис. [-@fig:012], [-@fig:013], [-@fig:014], [-@fig:015], [-@fig:016], [-@fig:017], [-@fig:018], [-@fig:019], [-@fig:020], [-@fig:021], [-@fig:022], [-@fig:023], [-@fig:024])

![Выделение/отмена выделения файлов](image/Рис.12.png){ #fig:012 width=70% }

![Выделение/отмена выделения файлов](image/Рис.13.png){ #fig:013 width=70% }

![Копирование/перемещение файлов](image/Рис.14.png){ #fig:014 width=70% }

![Перемещение файлов](image/Рис.15.png){ #fig:015 width=70% }

![Информация в mc](image/Рис.16.png){ #fig:016 width=70% }

![Информация о данном файле](image/Рис.17.png){ #fig:017 width=70% }

![Формата списка в mc](image/Рис.18.png){ #fig:018 width=70% }

![Формат списка файлов](image/Рис.19.png){ #fig:019 width=70% }

![Расширенный список](image/Рис.20.png){ #fig:020 width=70% }

![Права доступа в mc](image/Рис.21.png){ #fig:021 width=70% }

![Команда chmod](image/Рис.22.png){ #fig:022 width=70% }

![Права (расширенные) в mc](image/Рис.23.png){ #fig:023 width=70% }

![Расширенная команда chown](image/Рис.24.png){ #fig:024 width=70% }

4. Выполнила основные команды меню правой панели. (рис. [-@fig:025])

![Правая панель в mc](image/Рис.25.png){ #fig:025 width=70% }

1) Пункт «Список файлов» отображает размер файла и время его правки. (рис. [-@fig:026])

![Список файлов](image/Рис.26.png){ #fig:026 width=70% }

2) Пункт «Быстрый просмотр» нужен для предпросмотра содержания файла. (рис. [-@fig:027])

![Быстрый просмотр](image/Рис.27.png){ #fig:027 width=70% }

3) Пункт «Информация» отображает подробные данные о файле. (рис. [-@fig:028], [-@fig:029])

![Информация в mc](image/Рис.28.png){ #fig:028 width=70% }

![Информация о данном файле/каталоге](image/Рис.29.png){ #fig:029 width=70% }

4) Пункт «Дерево» необходим для просмотра дерева каталога (отображает минимум информации). (рис. [-@fig:030])

![Дерево каталога](image/Рис.30.png){ #fig:030 width=70% }

5) Пункт «Формат списка» − «Укороченный» отображает только имя файла или каталога (видна минимальная информация). (рис. [-@fig:031], [-@fig:032])

![Формат списка (укороченный) в mc](image/Рис.31.png){ #fig:031 width=70% }

![Формат списка (укороченный)](image/Рис.32.png){ #fig:032 width=70% }

6) Пункт «Формат списка» − «Расширенный» отображает подробную информацию о файлах, но менее подробную,чем пункт «Информация». (рис. [-@fig:033])

![Формат списка (расширенный)](image/Рис.33.png){ #fig:033 width=70% }

7)  Пункт «Формат списка» − «Определенный пользователем» предоставляет пользователю возможность самому изменять степень подробности информации о файле, но она будет менее подробной, чем в пункте "Информация".

8) Пункт «Формат списка» − «Стандартный» ставится по умолчанию. (рис. [-@fig:034])

![Формат списка (стандартный)](image/Рис.34.png){ #fig:034 width=70% }

9) Пункт «Порядок сортировки» необходим для сортировки файлов или каталогов по конкретному критерию. (рис. [-@fig:035])

![Порядок сортировки](image/Рис.35.png){ #fig:035 width=70% }

10) Пункт «Фильтр» необходим, чтобы просматривать название файлов или каталогов, которые подходят под указанную маску. (рис. [-@fig:036])

![Фильтр](image/Рис.36.png){ #fig:036 width=70% }

11) Пункт "Выбор кодировки" нужен для просмотра и смены кодировки. (рис. [-@fig:037])

![Выбор кодировки](image/Рис.37.png){ #fig:037 width=70% }

5. Используя возможности подменю Файл, выполнила: (рис. [-@fig:038])

![Файл в mc](image/Рис.38.png){ #fig:038 width=70% }

1) Просмотр содержимого текстового файла. Выбрала текстовый файл и перешла в пункт «Просмотр». (рис. [-@fig:039])

![Просмотр текстового файла](image/Рис.39.png){ #fig:039 width=70% }

2) Редактирование содержимого текстового файла (результаты не сохраняем). Перешла в пункт «Правка» и изменила имя файла. (рис. [-@fig:040], [-@fig:041])

![Правка](image/Рис.40.png){ #fig:040 width=70% }

![Изменение названия файла](image/Рис.41.png){ #fig:041 width=70% }

3) Создание каталога. Перешла в пункт «Создание каталога» и создала каталог "abc". (рис. [-@fig:042])

![Создание каталога](image/Рис.42.png){ #fig:042 width=70% }

4) Копирование файлов в созданный каталог. Для этого, используя клавишу «ins», выделила несколько файлов. (рис. [-@fig:043])

![Копирование файлов в каталог](image/Рис.43.png){ #fig:043 width=70% }

5) Выбрав пункт «Копирование», скопировала данные файлы в созданный каталог. (рис. [-@fig:044], [-@fig:045]) 

![Путь в каталог для копирования](image/Рис.44.png){ #fig:044 width=70% }

![Проверка копирования](image/Рис.45.png){ #fig:045 width=70% }

6. Используя соответствующие средства под меню «Команда» осуществила: (рис. [-@fig:046])

![Команда в mc](image/Рис.46.png){ #fig:046 width=70% }

1) Поиск в файловой системе файла с заданными условиями. Перешла в пункт «Поиск файла» и задала следующие параметры: «От каталога» /,«Шаблон имени» *.с, «Содержимое» main и осуществила поиск нужных файлов. (рис. [-@fig:047], [-@fig:048]) 

![Задание необходимых условий для поиска файла](image/Рис.47.png){ #fig:047 width=70% }

![Найденные файлы](image/Рис.48.png){ #fig:048 width=70% }

2) Аналогичным образом найшла файлы с шаблоном имени *.cpp. (рис. [-@fig:049], [-@fig:050])

![Задание необходимых условий для поиска файла](image/Рис.49.png){ #fig:049 width=70% }

![Найденные файлы](image/Рис.50.png){ #fig:050 width=70% }

3) Выбор и повторение одной из предыдущих команд. Перешла в пункт «История командной строки» и увидила, что внизу экрана появилась сноска «История», но т.к.командная строка не была использована эта сноска пустая. (рис. [-@fig:051])

![Повторение предыдущих команд](image/Рис.51.png){ #fig:051 width=70% }

4) Переход в домашний каталог. Для перехода в домашний каталог перешла в пункт «Дерево каталогов», выбрала необходимый каталог и нажала «enter», в результате чего, в левой панели перешла в домашний каталог. (рис. [-@fig:052], [-@fig:053])

![Дерево каталогов в mc](image/Рис.52.png){ #fig:052 width=70% }

![Переход в домашний каталог](image/Рис.53.png){ #fig:053 width=70% }

5) Анализ файла меню и файла расширений. Перешла в пункт «Редактировать файл расширений». "Редактировать файл расширений" − позволяет задать с помощью определённого синтаксиса действия при запуске файлов с определённым расширением. Пункт «Редактировать файл меню» − позволяет отредактировать контекстное меню пользователя. (рис. [-@fig:054], [-@fig:055], [-@fig:056])

![Редактировать файл расширений в mc](image/Рис.54.png){ #fig:054 width=70% }

![Редактирование контекстного меню](image/Рис.55.png){ #fig:055 width=70% }

![Редактирование контекстного меню](image/Рис.56.png){ #fig:056 width=70% }

7. Я вызвала подменю Настройки. Освоила операции, определяющие структуру экрана mc. (рис. [-@fig:057], [-@fig:058], [-@fig:059], [-@fig:060], [-@fig:061], [-@fig:062], [-@fig:063], [-@fig:064], [-@fig:065], [-@fig:066])

![Настройки в mc](image/Рис.57.png){ #fig:057 width=70% }

![Конфигурация в mc](image/Рис.58.png){ #fig:058 width=70% }

![Внешний вид в mc](image/Рис.59.png){ #fig:059 width=70% }

![Настройки панелей](image/Рис.60.png){ #fig:060 width=70% }

![Подтверждение в mc](image/Рис.61.png){ #fig:061 width=70% }

![Оформление в mc](image/Рис.62.png){ #fig:062 width=70% }

![Биты символов в mc](image/Рис.63.png){ #fig:063 width=70% }

![Распознавание клавиш в mc](image/Рис.64.png){ #fig:064 width=70% }

![Виртуальные ФС в mc](image/Рис.65.png){ #fig:065 width=70% }

![Сохранить настройки в mc](image/Рис.66.png){ #fig:066 width=70% }

8. Я создала текстовый файл text.txt. (рис. [-@fig:067], [-@fig:068])

![Работа с терминалом](image/Рис.67.png){ #fig:067 width=70% }

![Файл text.txt](image/Рис.68.png){ #fig:068 width=70% }

9. Открыла этот файл с помощью встроенного в mc редактора.

10. Вставила в открытый файл небольшой фрагмент текста, скопированный из Интернета. ([-@fig:069])

![Текст в файле](image/Рис.69.png){ #fig:069 width=70% }

11. Проделала с текстом следующие манипуляции, используя горячие клавиши:

1) Удалила строку текста. (рис. [-@fig:070], [-@fig:071])

![Текст со строкой](image/Рис.70.png){ #fig:070 width=70% }

![Удаление строки](image/Рис.71.png){ #fig:071 width=70% }

2) Выделила фрагмент текста и скопировала его на новую строку. (рис. [-@fig:072], [-@fig:073])

![Выделение фрагмента текста](image/Рис.72.png){ #fig:072 width=70% }

![Копирование фрагмента текста](image/Рис.73.png){ #fig:073 width=70% }

3) Выделила фрагмент текста и перенесите его на новую строку. (рис. [-@fig:074])

![Выделение фрагмента текста](image/Рис.74.png){ #fig:074 width=70% }

4) Сохранила файл. (рис. [-@fig:075])

![Сохранение файла](image/Рис.75.png){ #fig:075 width=70% }

5) Отменила последнее действие. (рис. [-@fig:076])

![Отмена действия](image/Рис.76.png){ #fig:076 width=70% }

6) Перешла в конец файла (нажав комбинацию клавиш) и написала некоторый текст. (рис. [-@fig:077], [-@fig:078])

![Переход в конец файла](image/Рис.77.png){ #fig:077 width=70% }

![Текст](image/Рис.78.png){ #fig:078 width=70% }

7) Перешла в начало файла (нажав комбинацию клавиш) и написала некоторый текст. (рис. [-@fig:079])

![Текст](image/Рис.79.png){ #fig:079 width=70% }
 
8) Сохранила и закрыла файл. (рис. [-@fig:080])

![Сохранение файла](image/Рис.80.png){ #fig:080 width=70% }

12. Открыла файл с исходным текстом на языке программирования Java. (рис. [-@fig:081], [-@fig:082])

![Открытие файла с исходным текстом](image/Рис.81.png){ #fig:081 width=70% }

![Открытие файла с исходным текстом](image/Рис.82.png){ #fig:082 width=70% }

13. Используя меню редактора, выключила подсветку синтаксиса. (рис. [-@fig:083], [-@fig:084])

![Выключение подсветки синтаксиса](image/Рис.83.png){ #fig:083 width=70% }

![Выключение подсветки синтаксиса](image/Рис.84.png){ #fig:084 width=70% }

**Ответы на контрольные вопросы:**

1. Панели могут дополнительно быть переведены в один из двух режимов: «Информация» или «Дерево». В режиме «Информация» на панель выводятся сведения о файле и текущей файловой системе, расположенных на активной панели. В режиме «Дерево» на одной из панелей выводится структура дерева каталогов.

2. Как с помощью команд shell, так и с помощью меню (комбинаций клавиш) mc можно выполнить следующие операции с файлами:

- копирование «F5» («cp имя_файла имя_каталога (в который копируем)») (Рисунок14)

- перемещение/переименование «F6» («mv имя_файла имя_каталога (в который перемещаем)»)(Рисунок15)

- создание каталога «F7» («mkdir имя_каталога»)(Рисунок38)

- удаление «F8» («rm имя_файла»)

- изменение прав доступа «ctrl+x» («chmod u+x имя_файла»)

3. Перейти в строку меню панелей mc можно с помощью функциональной клавиши «F9». В строке меню имеются пять меню: «Леваяпанель», «Файл», «Команда», «Настройки» и «Правая панель».

Подпункт меню «Быстрый просмотр» позволяет выполнить быстрый просмотр содержимого панели.

Подпункт меню «Информация» позволяет посмотреть информацию о файле или каталоге. В меню каждой (левой или правой) панели можно выбрать «Формат списка»:

- стандартный − выводит список файлов и каталогов с указанием размера и времени правки;

- ускоренный − позволяет задать число столбцов, на которые разбивается панель при выводе списка имён файлов или каталогов без дополнительной информации;

- расширенный − помимо названия файла или каталога выводит сведения о правах доступа, владельце, группе, размере, времени правки;

- определённый пользователем − позволяет вывести те сведения о файле или каталоге, которые задаст сам пользователь.

Подпункт меню «Порядок сортировки» позволяет задать критерии сортировки при выводе списка файлов и каталогов: без сортировки, по имени, расширенный, время правки, время доступа, время изменения атрибута, размер, узел.

4. Команды меню «Файл»:

- Просмотр(«F3»)− позволяет посмотреть содержимое текущего (или выделенного) файла без возможности редактирования.

- Просмотр вывода команды («М»+«!»)− функция запроса команды с параметрами (аргумент к текущему выбранному файлу).

- Правка(«F4») − открывает текущий (или выделенный) файл для его редактирования.

- Копирование(«F5»)− осуществляет копирование одного или нескольких файлов или каталогов в указанное пользователем во всплывающем окне место.

- Права доступа («Ctrl-x»«c»)− позволяет указать (изменить) права доступа к одному или нескольким файлам или каталогам.

- Жёсткая ссылка («Ctrl-x»«l»)− позволяет создать жёсткую ссылку к текущему(или выделенному) файлу.

- Символическая ссылка («Ctrl-x»«s»)− позволяет создать символическую ссылку к текущему (или выделенному) файлу.

- Владелец/группа («Ctrl-x»«o»)− позволяет задать (изменить) владельца и имя группы для одного или нескольких файлов или каталогов.

- Права (расширенные)− позволяет изменить права доступа и владения для одного или нескольких файлов или каталогов.

- Переименование («F6»)− позволяет переименовать (или переместить) один или несколько файлов или каталогов.

- Создание каталога («F7») − позволяет создать каталог.

- Удалить («F8») − позволяет удалить один или несколько файлов или каталогов.

- Выход («F10») − завершает работу mc.

5. Меню Команда

В меню Команда содержатся более общие команды для работы с mc.

Команды меню Команда:

- Дерево каталогов − отображает структуру каталогов системы.

- Поиск файла − выполняет поиск файлов по заданным параметрам.

- Переставить панели − меняет местами левую и правую панели.

- Сравнить каталоги («Ctrl-x»«d») − сравнивает содержимое двух каталогов.

- Размеры каталогов − отображает размер и время изменения каталога (по умолчанию в mc размер каталога корректно не отображается).

- История командной строки − выводит на экран список ранее выполненных в оболочке команд.

- Каталоги быстрого доступа(Ctrl-\»)− при вызове выполняется быстрая смена текущего каталога на один из заданного списка.

- Восстановление файлов − позволяет восстановить файлы на файловых системах ext2 и ext3.

- Редактировать файл расширений − позволяет задать с

С помощью определённого синтаксиса действия при запуске файлов с определённым расширением (например, какое программное обеспечение запускать для открытия или редактирования файлов с расширением doc или docx).

- Редактировать файл меню − позволяет отредактировать контекстное меню пользователя, вызываемое по клавише «F2».

- Редактировать файл расцветки имён − позволяет подобрать оптимальную для пользователя расцветку имён файлов в зависимости от их типа.

6. Меню Настройки содержит ряд дополнительных опций по внешнему виду и функциональности mc.

Меню Настройки содержит:

- Конфигурация − позволяет скорректировать настройки работы с панелями.

- Внешний вид и Настройки панелей − определяет элементы (строка меню, командная строка, подсказки и прочее), отображаемые при вызове mc, а также геометрию расположения панелей и цветовыделение.

- Биты символов − задаёт формат обработки информации локальным терминалом.

- Подтверждение − позволяет установить или убрать вывод окна с запросом подтверждения действий при операциях удаления и перезаписи файлов, а также при выходе из программы.

- Распознание клавиш − диалоговое окно используется для тестирования функциональных клавиш, клавиш управления курсором и прочее.

- Виртуальные ФС − настройки виртуальной файловой системы: тайм-аут, пароль и прочее.

7. Функциональные клавиши mc:

- F1 – вызов контекстно-зависимой подсказки

- F2 – вызов пользовательского меню с возможностью создания и/или дополнения дополнительных функций

- F3 – просмотр содержимого файла, на который указывает подсветка в активной панели (без возможности редактирования)

- F4 – вызов встроенного в mc редактора для изменения содержания файла, на который указывает подсветка в активной панели

- F5 – копирование одного или нескольких файлов, отмеченных впервой (активной) панели, в каталог, отображаемый на второй панели

- F6 – перенос одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

- F7 – создание подкаталога в каталоге, отображаемом в активной панели

- F8 – удаление одного или нескольких файлов (каталогов), отмеченных в первой (активной) панели файлов

- F9 – вызов меню mc

- F10 – выход из mc

8. Встроенный в mc редактор вызывается с помощью функциональной клавиши «F4». В нём удобно использовать различные комбинации клавиш при редактировании содержимого (как правило текстового) файла. Клавиши для редактирования файла:

- «Ctrl-y» − удалить строку

- «Ctrl-u» − отмена последней операции

- «ins» - вставка/замена

- «F7» − поиск (можно использовать регулярные выражения)

- «F4» − замена

- «F3» − первое нажатие − начало выделения, второе − окончание выделения

- «F5» − копировать выделенный фрагмент

- «F6» − переместить выделенный фрагмент

- «F8» − удалить выделенный фрагмент

- «F2» − записать изменения в файл

- «F10» − выйти из редактор

9. Для редактирования меню пользователя, которое вызывается клавишей «F2», необходимо перейти в пункт «Редактировать файл меню» - «Команда» и изменить настройки файла.

10. Часть команд «Меню пользователя», а также меню «Файл» позволяют выполнять действия, определяемые пользователем, над текущим файлом. Например, копирование каталога или файла, переименование, перемещение, архивирование.

# Выводы

В ходе выполнения данной лабораторной работы я освоила основные возможности командной оболочки Midnight Commander. А также приобрела навыки практической работы по просмотру каталогов и файлов, манипуляций
с ними.

